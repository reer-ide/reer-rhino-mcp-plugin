<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="ReerRhinoMCPPlugin.UI.Windows.LicenseManagementWindow"
        Title="REER License Management"
        Width="500"
        Height="600"
        MinWidth="450"
        MinHeight="500"
        WindowStartupLocation="CenterScreen">

    <ScrollViewer>
        <StackPanel Margin="20" Spacing="15">
            
            <TextBlock Text="License Management" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
            
            <!-- Registration Panel - Only shown when no license exists -->
            <Border Name="RegistrationPanel" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel>
                    <TextBlock Text="License Registration" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <TextBlock Text="License Key:"/>
                    <TextBox Name="LicenseKeyTextBox" Margin="0,5,0,10" Watermark="Enter your license key"/>
                    
                    <TextBlock Text="User ID:"/>
                    <TextBox Name="UserIdTextBox" Margin="0,5,0,10" Watermark="Enter your user ID"/>
                    
                    <TextBlock Text="Server URL:"/>
                    <TextBox Name="ServerUrlTextBox" Text="http://127.0.0.1:8080" Margin="0,5,0,10"/>
                    
                    <Button Name="RegisterButton" Content="Register License" Background="#007ACC" Foreground="White" Padding="15,8"/>
                </StackPanel>
            </Border>
            
            <!-- License Info Panel - Shows detailed information when license exists -->
            <Border Name="LicenseInfoPanel" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel>
                    <TextBlock Text="Current License Status" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <TextBlock Name="StatusTextBlock" Text="Checking license status..." 
                              TextWrapping="Wrap" Margin="0,0,0,10"/>
                    
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <Button Name="CheckStatusButton" Content="Refresh Status" Background="#28A745" Foreground="White" Padding="15,8"/>
                        <Button Name="ClearLicenseButton" Content="Clear License" Background="#DC3545" Foreground="White" Padding="15,8" IsVisible="False"/>
                    </StackPanel>
                    
                    <TextBlock Text="⚠️ Clearing license will require re-registration" 
                              FontSize="12" Foreground="Orange" TextWrapping="Wrap" Margin="0,10,0,0"
                              IsVisible="{Binding #ClearLicenseButton.IsVisible}"/>
                </StackPanel>
            </Border>
            
            <!-- Activity Log -->
            <Border BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="5" Padding="15">
                <StackPanel>
                    <TextBlock Text="Activity Log" FontWeight="Bold" Margin="0,0,0,10"/>
                    <ScrollViewer Height="150" BorderBrush="#E0E0E0" BorderThickness="1">
                        <TextBlock Name="LogTextBlock" Text="Ready..." Margin="10" TextWrapping="Wrap"/>
                    </ScrollViewer>
                    <Button Name="ClearLogButton" Content="Clear Log" Background="#6C757D" Foreground="White" Padding="10,5" HorizontalAlignment="Right" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
</Window>

